---
phase: 01-foundation-setup
plan: 01
type: execute
---

<objective>
Initialize Next.js project with TypeScript, configure for dark theme and local-first architecture.

Purpose: Establish the foundational Next.js structure with TypeScript, Tailwind CSS, and project conventions that all subsequent phases will build upon.
Output: Working Next.js application with development server, TypeScript configuration, Tailwind CSS with dark theme defaults, and proper project structure.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Constraints from PROJECT.md:**
- Tech Stack: Next.js + TypeScript + Shadcn UI
- UI: Dark theme, modern aesthetic, mobile-first responsive design
- Privacy-first: All data stays local, no external API calls for core functionality
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Next.js project with TypeScript and Tailwind CSS</name>
  <files>package.json, tsconfig.json, tailwind.config.ts, next.config.js, app/layout.tsx, app/page.tsx, app/globals.css</files>
  <action>
    Run `npx create-next-app@latest . --typescript --tailwind --app --no-src-dir --import-alias "@/*"` to scaffold Next.js 15 project in current directory.

    Configure for local-first architecture:
    - In next.config.js: Add `output: 'standalone'` for potential local deployment
    - In tailwind.config.ts: Set `darkMode: 'class'` and add default dark theme colors
    - In app/layout.tsx: Add `<html lang="en" class="dark">` to enable dark mode by default
    - In app/globals.css: Keep Tailwind directives, add dark theme CSS variables for Shadcn compatibility
    - In app/page.tsx: Create minimal landing page with "Finance Tracker" heading

    Use pnpm as package manager (faster, better for monorepos if needed later).
    Do NOT initialize git (already exists).
    Do NOT use ESLint strict mode that blocks builds on warnings.
  </action>
  <verify>
    - `pnpm dev` starts development server on port 3000
    - Visit http://localhost:3000 shows "Finance Tracker" page
    - No TypeScript errors: `pnpm tsc --noEmit`
    - Dark theme is active by default
  </verify>
  <done>
    - Next.js project scaffolded with TypeScript
    - Tailwind CSS configured with dark mode enabled
    - Development server runs without errors
    - Landing page displays correctly
  </done>
</task>

<task type="auto">
  <name>Task 2: Add Shadcn UI configuration and install base components</name>
  <files>components.json, components/ui/, lib/utils.ts</files>
  <action>
    Initialize Shadcn UI for Next.js with dark theme:

    Run `pnpm dlx shadcn@latest init` with these selections:
    - Style: Default
    - Base color: Slate (good for dark themes)
    - CSS variables: Yes

    This creates:
    - components.json (Shadcn config)
    - lib/utils.ts (cn helper for className merging)
    - components/ui/ directory (for components)

    Install initial components we'll need across the app:
    - `pnpm dlx shadcn@latest add button`
    - `pnpm dlx shadcn@latest add input`
    - `pnpm dlx shadcn@latest add card`

    These are foundational UI primitives that manual entry forms, dashboards, and all UI will use.

    Verify components.json has correct paths and TypeScript is configured properly.
  </action>
  <verify>
    - components.json exists with style: "default" and tailwind config paths
    - lib/utils.ts exports cn function
    - components/ui/button.tsx, input.tsx, card.tsx exist
    - `pnpm tsc --noEmit` passes with no errors
  </verify>
  <done>
    - Shadcn UI initialized with dark theme colors
    - Base components installed (button, input, card)
    - Utils helper available for className merging
    - No TypeScript or build errors
  </done>
</task>

<task type="auto">
  <name>Task 3: Create project structure directories and environment file template</name>
  <files>.env.local.example, lib/, app/api/, app/(dashboard)/, types/</files>
  <action>
    Create standard Next.js project structure for finance tracker:

    Directories:
    - `lib/` - Utility functions, database client, helpers
    - `app/api/` - API routes (for future transaction operations)
    - `app/(dashboard)/` - Dashboard route group (for main UI)
    - `types/` - TypeScript type definitions

    Create `.env.local.example` template with placeholders:
    ```
    # Database
    DATABASE_PATH=./data/finance.db

    # Future: Add OCR API keys, other services if needed
    ```

    Add `.env.local` to .gitignore if not already present.
    Create `data/` directory for SQLite database (will be populated in next plan).

    Do NOT create .env.local yet (will be created when actually needed with real values).
  </action>
  <verify>
    - Directories exist: lib/, app/api/, app/(dashboard)/, types/, data/
    - .env.local.example exists with DATABASE_PATH
    - .gitignore includes .env.local and data/ directory
    - `pnpm tsc --noEmit` still passes
  </verify>
  <done>
    - Project structure directories created
    - Environment template file exists
    - .gitignore properly configured for local data
    - Foundation ready for SQLite integration (next plan)
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm dev` starts server without errors
- [ ] `pnpm build` succeeds (verifies production build works)
- [ ] `pnpm tsc --noEmit` passes with no TypeScript errors
- [ ] http://localhost:3000 loads with dark theme
- [ ] All required directories exist
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Next.js application runs in development and builds for production
- Dark theme active by default
- Shadcn UI components available
- Project structure ready for database integration
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-setup/01-01-SUMMARY.md`:

# Phase 1 Plan 1: Next.js Foundation Summary

**Next.js 15 application scaffolded with TypeScript, Tailwind CSS dark theme, and Shadcn UI components.**

## Accomplishments

- Next.js project initialized with TypeScript and App Router
- Tailwind CSS configured with dark mode enabled by default
- Shadcn UI integrated with base components (button, input, card)
- Project structure directories created for organized development
- Environment template file ready for configuration

## Files Created/Modified

- `package.json` - Dependencies for Next.js, TypeScript, Tailwind, Shadcn
- `tsconfig.json` - TypeScript configuration
- `tailwind.config.ts` - Tailwind with dark mode and Shadcn colors
- `next.config.js` - Next.js configuration for standalone output
- `app/layout.tsx` - Root layout with dark mode enabled
- `app/page.tsx` - Landing page
- `app/globals.css` - Tailwind directives and dark theme CSS variables
- `components.json` - Shadcn UI configuration
- `lib/utils.ts` - className merging utility
- `components/ui/` - Button, Input, Card components
- `.env.local.example` - Environment variable template
- Project structure: `lib/`, `app/api/`, `app/(dashboard)/`, `types/`, `data/`

## Tech Stack Established

- Next.js 15 (App Router)
- TypeScript
- Tailwind CSS (dark mode enabled)
- Shadcn UI (slate color scheme)
- pnpm (package manager)

## Decisions Made

None - following standard Next.js + Shadcn patterns as planned.

## Issues Encountered

None expected - standard project scaffolding.

## Next Phase Readiness

Ready for Phase 1 Plan 2 (SQLite integration). Database path configured in .env.example, data/ directory created.
</output>
